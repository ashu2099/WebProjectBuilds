(this["webpackJsonpashu-dwivedi"]=this["webpackJsonpashu-dwivedi"]||[]).push([[0],{23:function(e,t,c){},46:function(e,t,c){},51:function(e,t,c){},52:function(e,t,c){},54:function(e,t,c){},55:function(e,t,c){},56:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),r=c(7),s=c.n(r),o=(c(23),c(24),c(25),c(46),c(9)),l=c(2),i=c(17),d=c(8),u=c(3),j=c(18),b={PRODUCTS:"https://demo7242716.mockable.io/products"},O=function(e,t){if(-1!==e.indexOf(t))return!0;var c,n=t.split(" "),a=e.split(" "),r=Object(j.a)(n);try{for(r.s();!(c=r.n()).done;){var s=c.value;if(-1!==a.indexOf(s))return!0}}catch(o){r.e(o)}finally{r.f()}return!1},f="SET_LOADER_STATE",h="SET_PRODUCT_DATA",m="CRITERIA_CHANGED",p="FILTER_RESULTS",x=function(e){return{type:f,showLoader:e}},v=function(e,t){return{type:m,data:{filterId:e,filterValue:t}}},g=function(){return{type:p}},R={showLoader:!1,listOfResults:[],productCategories:[],productBrands:[],FILTERS:{BRAND:[],CATEGORY:[],SEARCH:""}};c(51),c(52);var N=c(0);function E(e){return Object(N.jsx)("div",{className:"col-6 col-sm-6 col-md-4 col-lg-3 mb-3",children:Object(N.jsxs)("div",{className:"card p-0 h-100 shadow-sm",children:[Object(N.jsx)("img",{src:e.cardDetails.searchImage,className:"card-img-top",alt:e.cardDetails.additionalInfo}),Object(N.jsxs)("div",{className:"card-body border-top",children:[Object(N.jsx)("h5",{className:"card-title",children:e.cardDetails.brand}),Object(N.jsx)("p",{className:"card-text",children:e.cardDetails.productName})]})]})})}function S(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.onlySingleReducer.listOfResults}));return Object(n.useEffect)((function(){e(x(!0)),e((function(e){return fetch(b.PRODUCTS,{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){e({type:h,data:t})}))})).catch((function(e){console.warn(e)})).finally((function(){e(x(!1))}))}),[]),Object(N.jsxs)("div",{className:"row my-4",children:[t.map((function(e){return Object(N.jsx)(E,{cardDetails:e},e.productId)})),0===t.length&&Object(N.jsx)("div",{className:"my-5 py-5",children:Object(N.jsx)("h1",{className:"fw-light my-5 py-5 text-muted text-center",children:"No Results matched your criteria, please refine your filters!"})})]})}var y=c(5);c(54);function T(){var e=Object(l.b)(null),t=Object(l.c)((function(e){return e.onlySingleReducer.productGenders})),c=Object(l.c)((function(e){return e.onlySingleReducer.productBrands})),a=Object(l.c)((function(e){return e.onlySingleReducer.productCategories})),r=Object(n.useState)(null),s=Object(y.a)(r,2),o=s[0],i=s[1],d=Object(n.useState)({}),j=Object(y.a)(d,2),b=j[0],O=j[1],f=Object(n.useState)({}),h=Object(y.a)(f,2),m=h[0],p=h[1];return Object(n.useEffect)((function(){b&&Object.keys(b).length>0&&(console.log(b),e(v("CATEGORY",b)),e(g()))}),[b]),Object(n.useEffect)((function(){m&&Object.keys(m).length>0&&(console.log(m),e(v("BRAND",m)),e(g()))}),[m]),Object(n.useEffect)((function(){o&&(console.log(o),e(v("GENDER",o)),e(g()))}),[o]),Object(N.jsxs)("div",{className:"px-3",children:[Object(N.jsx)("h1",{className:"fw-light mt-4 mb-1 text-muted text-uppercase",children:"Filters:"}),Object(N.jsx)("h6",{className:"mt-4 mb-1 text-muted text-uppercase",children:"Gender:"}),null===t||void 0===t?void 0:t.map((function(e){return Object(N.jsxs)("div",{className:"form-check",children:[Object(N.jsx)("input",{className:"form-check-input",type:"radio",id:"radio"+e,name:"genderRadio",value:e,onChange:function(t){i(e)},checked:e===o}),Object(N.jsx)("label",{className:"form-check-label",htmlFor:"radio"+e,children:e})]},e)})),Object(N.jsx)("h6",{className:"mt-4 mb-1 text-muted text-uppercase",children:"Category:"}),a.map((function(e){return Object(N.jsxs)("div",{className:"form-check",children:[Object(N.jsx)("input",{className:"form-check-input",type:"checkbox",id:"check"+e,name:"categoryCheck",value:b[e],onChange:function(t){O((function(t){var c=Object(u.a)({},t);return c[e]=!c[e],c}))}}),Object(N.jsx)("label",{className:"form-check-label",htmlFor:"check"+e,children:e})]},e)})),Object(N.jsx)("h6",{className:"mt-4 mb-1 text-muted text-uppercase",children:"Brands:"}),c.map((function(e){return Object(N.jsxs)("div",{className:"form-check",children:[Object(N.jsx)("input",{className:"form-check-input",type:"checkbox",id:"check"+e,name:"brandCheck",value:m[e],onChange:function(t){p((function(t){var c=Object(u.a)({},t);return c[e]=!c[e],c}))}}),Object(N.jsx)("label",{className:"form-check-label",htmlFor:"check"+e,children:e}),Object(N.jsx)("br",{})]},e)}))]})}c(55);function k(){return!!Object(l.c)((function(e){return e.onlySingleReducer.showLoader}))&&Object(N.jsx)("div",{className:"loader-parent",children:Object(N.jsxs)("div",{className:"lds-roller",children:[Object(N.jsx)("div",{}),Object(N.jsx)("div",{}),Object(N.jsx)("div",{}),Object(N.jsx)("div",{}),Object(N.jsx)("div",{}),Object(N.jsx)("div",{}),Object(N.jsx)("div",{}),Object(N.jsx)("div",{})]})})}function C(){var e=Object(l.b)(),t=Object(n.useState)(""),c=Object(y.a)(t,2),a=c[0],r=c[1],s=Object(n.useRef)(!0);return Object(n.useEffect)((function(){s.current?s.current=!1:(console.log("searchTerm==",a),e(v("SEARCH",a.toLowerCase())),e(g()))}),[a]),Object(N.jsxs)("header",{className:"navbar navbar-dark sticky-top bg-dark flex-md-nowrap p-0 shadow",children:[Object(N.jsx)("div",{className:"navbar-brand col-md-3 col-lg-2 me-0 px-3",children:"Filtered Apparels"}),Object(N.jsx)("input",{type:"text",className:"form-control form-control-dark w-100",placeholder:"Search",id:"searchTermField",value:a,onChange:function(e){return r(e.target.value)}})]})}var w=Object(o.b)({onlySingleReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return Object(u.a)(Object(u.a)({},e),{},{showLoader:t.showLoader});case h:return Object(u.a)(Object(u.a)({},e),{},{productData:t.data,allProducts:t.data.products,listOfResults:t.data.products,sortOptions:t.data.sortOptions,productCategories:Object(d.a)(new Set(t.data.products.map((function(e){return e.category})))),productBrands:Object(d.a)(new Set(t.data.products.map((function(e){return e.brand})))),productGenders:Object(d.a)(new Set(t.data.products.map((function(e){return e.gender}))))});case m:var c=Object(u.a)({},e.FILTERS);return c[t.data.filterId]=t.data.filterValue,Object(u.a)(Object(u.a)({},e),{},{FILTERS:c});case p:var n=-1!==Object.values(e.FILTERS.BRAND).indexOf(!0),a=-1!==Object.values(e.FILTERS.CATEGORY).indexOf(!0),r=e.allProducts.filter((function(t){return(!e.FILTERS.GENDER||e.FILTERS.GENDER===t.gender)&&(!(n&&!e.FILTERS.BRAND[t.brand])&&(!(a&&!e.FILTERS.CATEGORY[t.category])&&!!O(t.productName.toLowerCase(),e.FILTERS.SEARCH)))}));return Object(u.a)(Object(u.a)({},e),{},{listOfResults:r});default:return e}}}),L=Object(o.c)(w,Object(o.a)(i.a));var F=function(){return Object(N.jsx)(l.a,{store:L,children:Object(N.jsxs)("div",{className:"App",children:[Object(N.jsx)(C,{}),Object(N.jsx)("div",{className:"container-fluid",children:Object(N.jsxs)("div",{className:"row",children:[Object(N.jsx)("nav",{id:"sidebarMenu",className:"col-md-3 col-lg-2 d-md-block bg-light sidebar collapse",children:Object(N.jsx)(T,{})}),Object(N.jsx)("main",{className:"col-md-9 ms-sm-auto col-lg-10",children:Object(N.jsx)(S,{})})]})}),Object(N.jsx)(k,{})]})})},D=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,57)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;c(e),n(e),a(e),r(e),s(e)}))};s.a.render(Object(N.jsx)(a.a.StrictMode,{children:Object(N.jsx)(F,{})}),document.getElementById("root")),D()}},[[56,1,2]]]);
//# sourceMappingURL=main.3a29bb9d.chunk.js.map
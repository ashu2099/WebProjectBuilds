(this["webpackJsonpashu-dwivedi"]=this["webpackJsonpashu-dwivedi"]||[]).push([[0],{22:function(e,t,c){},45:function(e,t,c){},50:function(e,t,c){},51:function(e,t,c){},53:function(e,t,c){},54:function(e,t,c){},55:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),r=c(6),s=c.n(r),o=(c(22),c(23),c(24),c(45),c(9)),l=c(2),i=c(17),d=c(8),u=c(3),j={PRODUCTS:"https://demo7242716.mockable.io/products"},b="SET_LOADER_STATE",O="SET_PRODUCT_DATA",h="CRITERIA_CHANGED",m="FILTER_RESULTS",f=function(e){return{type:b,showLoader:e}},p=function(e,t){return{type:h,data:{filterId:e,filterValue:t}}},x=function(){return{type:m}},v={showLoader:!1,listOfResults:[],productCategories:[],productBrands:[],FILTERS:{BRAND:[],CATEGORY:[],SEARCH:""}};c(50),c(51);var g=c(0);function R(e){return Object(g.jsx)("div",{className:"col-6 col-sm-6 col-md-4 col-lg-3 mb-3",children:Object(g.jsxs)("div",{className:"card p-0 h-100 shadow-sm",children:[Object(g.jsx)("img",{src:e.cardDetails.searchImage,className:"card-img-top",alt:e.cardDetails.additionalInfo}),Object(g.jsxs)("div",{className:"card-body border-top",children:[Object(g.jsx)("h5",{className:"card-title",children:e.cardDetails.brand}),Object(g.jsx)("p",{className:"card-text",children:e.cardDetails.productName})]})]})})}function N(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.onlySingleReducer.listOfResults}));return Object(n.useEffect)((function(){e(f(!0)),e((function(e){return fetch(j.PRODUCTS,{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){e({type:O,data:t})}))})).catch((function(e){console.warn(e)})).finally((function(){e(f(!1))}))}),[]),Object(g.jsxs)("div",{className:"row my-4",children:[t.map((function(e){return Object(g.jsx)(R,{cardDetails:e},e.productId)})),0===t.length&&Object(g.jsx)("div",{className:"my-5 py-5",children:Object(g.jsx)("h1",{className:"fw-light my-5 py-5 text-muted text-center",children:"No Results matched your criteria, please refine your filters!"})})]})}var E=c(4);c(53);function S(){var e=Object(l.b)(null),t=Object(l.c)((function(e){return e.onlySingleReducer.productGenders})),c=Object(l.c)((function(e){return e.onlySingleReducer.productBrands})),a=Object(l.c)((function(e){return e.onlySingleReducer.productCategories})),r=Object(n.useState)(null),s=Object(E.a)(r,2),o=s[0],i=s[1],d=Object(n.useState)({}),j=Object(E.a)(d,2),b=j[0],O=j[1],h=Object(n.useState)({}),m=Object(E.a)(h,2),f=m[0],v=m[1];return Object(n.useEffect)((function(){b&&Object.keys(b).length>0&&(console.log(b),e(p("CATEGORY",b)),e(x()))}),[b]),Object(n.useEffect)((function(){f&&Object.keys(f).length>0&&(console.log(f),e(p("BRAND",f)),e(x()))}),[f]),Object(n.useEffect)((function(){o&&(console.log(o),e(p("GENDER",o)),e(x()))}),[o]),Object(g.jsxs)("div",{className:"px-3",children:[Object(g.jsx)("h1",{className:"fw-light mt-4 mb-1 text-muted text-uppercase",children:"Filters:"}),Object(g.jsx)("h6",{className:"mt-4 mb-1 text-muted text-uppercase",children:"Gender:"}),null===t||void 0===t?void 0:t.map((function(e){return Object(g.jsxs)("div",{className:"form-check",children:[Object(g.jsx)("input",{className:"form-check-input",type:"radio",id:"radio"+e,name:"genderRadio",value:e,onChange:function(t){i(e)},checked:e===o}),Object(g.jsx)("label",{className:"form-check-label",htmlFor:"radio"+e,children:e})]},e)})),Object(g.jsx)("h6",{className:"mt-4 mb-1 text-muted text-uppercase",children:"Category:"}),a.map((function(e){return Object(g.jsxs)("div",{className:"form-check",children:[Object(g.jsx)("input",{className:"form-check-input",type:"checkbox",id:"check"+e,name:"categoryCheck",value:b[e],onChange:function(t){O((function(t){var c=Object(u.a)({},t);return c[e]=!c[e],c}))}}),Object(g.jsx)("label",{className:"form-check-label",htmlFor:"check"+e,children:e})]},e)})),Object(g.jsx)("h6",{className:"mt-4 mb-1 text-muted text-uppercase",children:"Brands:"}),c.map((function(e){return Object(g.jsxs)("div",{className:"form-check",children:[Object(g.jsx)("input",{className:"form-check-input",type:"checkbox",id:"check"+e,name:"brandCheck",value:f[e],onChange:function(t){v((function(t){var c=Object(u.a)({},t);return c[e]=!c[e],c}))}}),Object(g.jsx)("label",{className:"form-check-label",htmlFor:"check"+e,children:e}),Object(g.jsx)("br",{})]},e)}))]})}c(54);function y(){return!!Object(l.c)((function(e){return e.onlySingleReducer.showLoader}))&&Object(g.jsx)("div",{className:"loader-parent",children:Object(g.jsxs)("div",{className:"lds-roller",children:[Object(g.jsx)("div",{}),Object(g.jsx)("div",{}),Object(g.jsx)("div",{}),Object(g.jsx)("div",{}),Object(g.jsx)("div",{}),Object(g.jsx)("div",{}),Object(g.jsx)("div",{}),Object(g.jsx)("div",{})]})})}function T(){var e=Object(l.b)(),t=Object(n.useState)(""),c=Object(E.a)(t,2),a=c[0],r=c[1],s=Object(n.useRef)(!0);return Object(n.useEffect)((function(){s.current?s.current=!1:(console.log("searchTerm==",a),e(p("SEARCH",a)),e(x()))}),[a]),Object(g.jsxs)("header",{className:"navbar navbar-dark sticky-top bg-dark flex-md-nowrap p-0 shadow",children:[Object(g.jsx)("div",{className:"navbar-brand col-md-3 col-lg-2 me-0 px-3",children:"Filtered Apparels"}),Object(g.jsx)("input",{type:"text",className:"form-control form-control-dark w-100",placeholder:"Search",id:"searchTermField",value:a,onChange:function(e){return r(e.target.value)}})]})}var k=Object(o.b)({onlySingleReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object(u.a)(Object(u.a)({},e),{},{showLoader:t.showLoader});case O:return Object(u.a)(Object(u.a)({},e),{},{productData:t.data,allProducts:t.data.products,listOfResults:t.data.products,sortOptions:t.data.sortOptions,productCategories:Object(d.a)(new Set(t.data.products.map((function(e){return e.category})))),productBrands:Object(d.a)(new Set(t.data.products.map((function(e){return e.brand})))),productGenders:Object(d.a)(new Set(t.data.products.map((function(e){return e.gender}))))});case h:var c=Object(u.a)({},e.FILTERS);return c[t.data.filterId]=t.data.filterValue,Object(u.a)(Object(u.a)({},e),{},{FILTERS:c});case m:var n=-1!==Object.values(e.FILTERS.BRAND).indexOf(!0),a=-1!==Object.values(e.FILTERS.CATEGORY).indexOf(!0),r=e.allProducts.filter((function(t){return(!e.FILTERS.GENDER||e.FILTERS.GENDER===t.gender)&&(!(n&&!e.FILTERS.BRAND[t.brand])&&(!(a&&!e.FILTERS.CATEGORY[t.category])&&-1!==t.productName.toLowerCase().indexOf(e.FILTERS.SEARCH)))}));return Object(u.a)(Object(u.a)({},e),{},{listOfResults:r});default:return e}}}),C=Object(o.c)(k,Object(o.a)(i.a));var w=function(){return Object(g.jsx)(l.a,{store:C,children:Object(g.jsxs)("div",{className:"App",children:[Object(g.jsx)(T,{}),Object(g.jsx)("div",{className:"container-fluid",children:Object(g.jsxs)("div",{className:"row",children:[Object(g.jsx)("nav",{id:"sidebarMenu",className:"col-md-3 col-lg-2 d-md-block bg-light sidebar collapse",children:Object(g.jsx)(S,{})}),Object(g.jsx)("main",{className:"col-md-9 ms-sm-auto col-lg-10",children:Object(g.jsx)(N,{})})]})}),Object(g.jsx)(y,{})]})})},F=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,56)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;c(e),n(e),a(e),r(e),s(e)}))};s.a.render(Object(g.jsx)(a.a.StrictMode,{children:Object(g.jsx)(w,{})}),document.getElementById("root")),F()}},[[55,1,2]]]);
//# sourceMappingURL=main.1bb1cc11.chunk.js.map